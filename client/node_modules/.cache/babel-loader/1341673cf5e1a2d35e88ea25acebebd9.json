{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nasra\\\\OneDrive\\\\Desktop\\\\chat-app\\\\client\\\\src\\\\components\\\\ResultsDropdown.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Avatar, useChatContext } from \"stream-chat-react\";\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst channelByUser = async _ref => {\n  let {\n    client,\n    setActiveChannel,\n    channel,\n    setChannel\n  } = _ref;\n  const filters = {\n    type: \"messaging\",\n    member_count: 2,\n    members: {\n      $eq: [client.user.id, client.userID]\n    }\n  };\n  const [existingChannel] = await client.queryChannels(filters);\n  if (existingChannel) return setActiveChannel(existingChannel);\n  const newChannel = client.channel(\"messaging\", {\n    members: [channel.id, client.userID]\n  });\n  setChannel(newChannel);\n  return setActiveChannel(newChannel);\n};\n\nconst SearchResult = _ref2 => {\n  _s();\n\n  let {\n    channel,\n    focusedId,\n    type,\n    setChannel,\n    setToggleContainer\n  } = _ref2;\n  const {\n    client,\n    setActiveChannel\n  } = useChatContext();\n\n  if (type === \"channel\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => {\n        setChannel(channel);\n\n        if (setToggleContainer) {\n          setToggleContainer(prevState => !prevState);\n        }\n      },\n      className: focusedId === channel.id ? \"channel-search__result-container__focused\" : \"channel-search__result-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"result-hashtag\",\n        children: \"#\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"channel-search__result-text\",\n        children: channel.data.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: async () => {\n      channelByUser({\n        client,\n        setActiveChannel,\n        channel,\n        setChannel\n      });\n\n      if (setToggleContainer) {\n        setToggleContainer(prevState => !prevState);\n      }\n    },\n    className: focusedId === channel.id ? \"channel-search__result-container__focused\" : \"channel-search__result-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"channel-search__result-user\",\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        image: channel.image || undefined,\n        name: channel.name,\n        size: 24\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"channel-search__result-text\",\n        children: channel.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SearchResult, \"sU/ZwPyM571p6ERqNXz2PDXwtQc=\", false, function () {\n  return [useChatContext];\n});\n\n_c = SearchResult;\n\nconst ResultsDropdown = _ref3 => {\n  let {\n    teamChannels,\n    directChannels,\n    focusedId,\n    loading,\n    setChannel,\n    setToggleContainer\n  } = _ref3;\n  return /*#__PURE__*/_jsxDEV(ResultsContainer, {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Channels\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), loading && !teamChannels.length && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }, this), !loading && !teamChannels.length ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        children: \"No channels found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this) : teamChannels === null || teamChannels === void 0 ? void 0 : teamChannels.map((channel, i) => /*#__PURE__*/_jsxDEV(SearchResult, {\n      channel: channel,\n      focusedId: focusedId,\n      setChannel: setChannel,\n      type: \"channel\",\n      setToggleContainer: setToggleContainer\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }, this)), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Users\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), loading && !directChannels.length && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }, this), !loading && !directChannels.length ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        children: \"No direct messages found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }, this) : directChannels === null || directChannels === void 0 ? void 0 : directChannels.map((channel, i) => /*#__PURE__*/_jsxDEV(SearchResult, {\n      channel: channel,\n      focusedId: focusedId,\n      setChannel: setChannel,\n      type: \"user\",\n      setToggleContainer: setToggleContainer\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n\n_c2 = ResultsDropdown;\nexport default ResultsDropdown;\nconst ResultsContainer = styled.div`\n  background: lightcoral;\n`;\n_c3 = ResultsContainer;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"SearchResult\");\n$RefreshReg$(_c2, \"ResultsDropdown\");\n$RefreshReg$(_c3, \"ResultsContainer\");","map":{"version":3,"sources":["C:/Users/nasra/OneDrive/Desktop/chat-app/client/src/components/ResultsDropdown.jsx"],"names":["React","Avatar","useChatContext","styled","channelByUser","client","setActiveChannel","channel","setChannel","filters","type","member_count","members","$eq","user","id","userID","existingChannel","queryChannels","newChannel","SearchResult","focusedId","setToggleContainer","prevState","data","name","image","undefined","ResultsDropdown","teamChannels","directChannels","loading","length","map","i","ResultsContainer","div"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Avatar, useChatContext } from \"stream-chat-react\";\r\nimport styled from 'styled-components';\r\n\r\nconst channelByUser = async ({\r\n  client,\r\n  setActiveChannel,\r\n  channel,\r\n  setChannel,\r\n}) => {\r\n  const filters = {\r\n    type: \"messaging\",\r\n    member_count: 2,\r\n    members: { $eq: [client.user.id, client.userID] },\r\n  };\r\n\r\n  const [existingChannel] = await client.queryChannels(filters);\r\n\r\n  if (existingChannel) return setActiveChannel(existingChannel);\r\n\r\n  const newChannel = client.channel(\"messaging\", {\r\n    members: [channel.id, client.userID],\r\n  });\r\n\r\n  setChannel(newChannel);\r\n\r\n  return setActiveChannel(newChannel);\r\n};\r\n\r\nconst SearchResult = ({\r\n  channel,\r\n  focusedId,\r\n  type,\r\n  setChannel,\r\n  setToggleContainer,\r\n}) => {\r\n  const { client, setActiveChannel } = useChatContext();\r\n\r\n  if (type === \"channel\") {\r\n    return (\r\n      <div\r\n        onClick={() => {\r\n          setChannel(channel);\r\n          if (setToggleContainer) {\r\n            setToggleContainer((prevState) => !prevState);\r\n          }\r\n        }}\r\n        className={\r\n          focusedId === channel.id\r\n            ? \"channel-search__result-container__focused\"\r\n            : \"channel-search__result-container\"\r\n        }\r\n      >\r\n        <div className=\"result-hashtag\">#</div>\r\n        <p className=\"channel-search__result-text\">{channel.data.name}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div\r\n      onClick={async () => {\r\n        channelByUser({ client, setActiveChannel, channel, setChannel });\r\n        if (setToggleContainer) {\r\n          setToggleContainer((prevState) => !prevState);\r\n        }\r\n      }}\r\n      className={\r\n        focusedId === channel.id\r\n          ? \"channel-search__result-container__focused\"\r\n          : \"channel-search__result-container\"\r\n      }\r\n    >\r\n      <div className=\"channel-search__result-user\">\r\n        <Avatar\r\n          image={channel.image || undefined}\r\n          name={channel.name}\r\n          size={24}\r\n        />\r\n        <p className=\"channel-search__result-text\">{channel.name}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ResultsDropdown = ({\r\n  teamChannels,\r\n  directChannels,\r\n  focusedId,\r\n  loading,\r\n  setChannel,\r\n  setToggleContainer,\r\n}) => {\r\n  return (\r\n    <ResultsContainer>\r\n      <p>Channels</p>\r\n      {loading && !teamChannels.length && (\r\n        <p>\r\n          <i>Loading...</i>\r\n        </p>\r\n      )}\r\n      {!loading && !teamChannels.length ? (\r\n        <p>\r\n          <i>No channels found</i>\r\n        </p>\r\n      ) : (\r\n        teamChannels?.map((channel, i) => (\r\n          <SearchResult\r\n            channel={channel}\r\n            focusedId={focusedId}\r\n            key={i}\r\n            setChannel={setChannel}\r\n            type=\"channel\"\r\n            setToggleContainer={setToggleContainer}\r\n          />\r\n        ))\r\n      )}\r\n      <p>Users</p>\r\n      {loading && !directChannels.length && (\r\n        <p>\r\n          <i>Loading...</i>\r\n        </p>\r\n      )}\r\n      {!loading && !directChannels.length ? (\r\n        <p>\r\n          <i>No direct messages found</i>\r\n        </p>\r\n      ) : (\r\n        directChannels?.map((channel, i) => (\r\n          <SearchResult\r\n            channel={channel}\r\n            focusedId={focusedId}\r\n            key={i}\r\n            setChannel={setChannel}\r\n            type=\"user\"\r\n            setToggleContainer={setToggleContainer}\r\n          />\r\n        ))\r\n      )}\r\n    </ResultsContainer>\r\n  );\r\n};\r\n\r\nexport default ResultsDropdown;\r\n\r\nconst ResultsContainer = styled.div`\r\n  background: lightcoral;\r\n`"]},"metadata":{},"sourceType":"module"}